<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
		<style>
			a,a:link,a:visited,a:hover,a:active{
				color:#000;
				text-decoration: none;
				cursor: pointer;
			}
			b{
				position: absolute;
				transform: translateY(300px);
			}
			#list,#ans{
				column-count: 5;
				font-size: 2rem;
				line-height: 2.5em;
			}
			#ans{
				column-rule: 5px dotted #999;
				text-align: center;
				margin-top: 1em;
				padding-top: 1em;
				border-top:5px dashed #000
			}
			
			#list span{
				display:inline-block;
				text-align: right;
				min-width:50%;
			}
			#control{
				position: relative;
				font-size: 2rem;
				padding: .5em;
				background:#ccc;
				width:100%;
			}
			#control a{border: 1px solid #999;
				border-radius:.2em;
			display: inline-block;min-width: 1.5em;height:1.5em line-height:1.5em; text-align: center;}
			#control a.checked{
				background:#000;
				color:#fff;
			}
			#control select{
				font-size: 2rem;
			}
			#print{
				padding: 0 1rem;
				background:#0D72A6;
				border:none;
				color:#FFF;
			}
			svg{height:2em; width: auto; vertical-align: middle;}
			
			#copy{
						 position: absolute;
						  right:1em;
			}
		@media print {
		  #control{
		  display: none;
		  }
		  #ans{
			  page-break-inside: avoid;
		  }
		}
		</style>
		<meta name=”viewport” content=”width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0,
		 maximum-scale=1.0, user-scalable=no” />
	</head>
	<body>
		<div id="control">
		<span><?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="100%" height="100%" viewBox="0 0 217 69" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><path d="M38.296,15.407c-0.641,-0.756 -1.672,-1.481 -3.095,-2.174c-0.854,-0.441 -2.17,-1.008 -3.949,-1.701c-2.988,0.378 -6.901,1.732 -11.74,4.064c-1.778,0.882 -3.557,1.796 -5.336,2.741c-1.778,0.945 -3.557,1.859 -5.336,2.741c-2.561,2.206 -4.767,4.915 -6.617,8.129c-1.778,3.025 -2.49,5.545 -2.134,7.562c1.494,6.868 6.901,10.303 16.222,10.303c4.624,0 9.32,-0.82 14.087,-2.458c0.498,-0.378 0.747,-0.819 0.747,-1.323c0.214,0 0.641,-0.048 1.281,-0.142c0.64,-0.095 1.103,-0.142 1.387,-0.142c0.356,-1.071 0.427,-1.764 0.214,-2.079l-1.174,0c-0.285,0.63 -0.605,0.945 -0.961,0.945c-0.64,-0.693 -2.099,-1.04 -4.375,-1.04c-0.356,0 -0.819,0.016 -1.388,0.047l-3.949,0.095c-0.64,0.031 -1.173,0.047 -1.6,0.047c-4.34,0 -7.4,-0.882 -9.178,-2.646c-0.57,-0.694 -0.854,-1.481 -0.854,-2.363c0,-2.647 2.241,-5.735 6.723,-9.264c4.34,-3.339 7.435,-4.789 9.285,-4.347c-0.711,1.827 -1.067,4.253 -1.067,7.278c0,4.6 1.209,6.9 3.628,6.9c1.068,0 2.277,-0.41 3.629,-1.229c0.783,-0.504 1.387,-1.701 1.814,-3.592c0.143,-0.63 0.267,-1.26 0.374,-1.89c0.107,-0.63 0.231,-1.292 0.373,-1.985c0.641,-2.71 1.21,-5.104 1.708,-7.184c0.498,-2.079 0.925,-3.844 1.281,-5.293Z" style="fill:#888;fill-rule:nonzero;"/><path d="M84.827,61.628c0.782,-4.978 1.387,-9.972 1.814,-14.982c0.427,-5.009 0.64,-10.098 0.64,-15.265c0,-11.847 -1.138,-21.866 -3.415,-30.058c-1.209,-0.882 -2.419,-1.323 -3.628,-1.323c-1.708,0 -3.238,0.756 -4.59,2.269c0.072,1.386 0.125,2.599 0.161,3.639c0.035,1.039 0.053,1.906 0.053,2.599l0.854,9.641c0.142,1.89 0.231,3.734 0.266,5.53c0.036,1.795 0.018,3.576 -0.053,5.34c-0.213,-0.063 -0.765,-0.047 -1.654,0.047c-0.889,0.095 -2.117,0.205 -3.682,0.331c-5.55,0.567 -8.751,0.851 -9.605,0.851c-1.281,0 -2.17,-0.126 -2.668,-0.378c-0.712,-0.252 -1.138,-0.82 -1.281,-1.702c-0.142,-0.882 -0.284,-1.701 -0.427,-2.457c-0.569,-2.647 -1.049,-5.01 -1.44,-7.089c-0.392,-2.08 -0.765,-3.939 -1.121,-5.577c-0.356,-2.206 -0.658,-4.159 -0.907,-5.86c-0.249,-1.702 -0.445,-3.12 -0.587,-4.254c-0.285,-1.008 -1.281,-1.512 -2.988,-1.512c-0.783,0 -2.953,0.598 -6.51,1.796c0,5.671 1.387,14.777 4.162,27.316c0.071,0.378 -0.054,0.977 -0.374,1.796c-0.32,0.819 -0.409,1.387 -0.267,1.702c0.498,0.504 0.943,0.945 1.334,1.323c0.392,0.378 0.765,0.693 1.121,0.945c1.281,2.332 2.401,4.395 3.362,6.191c0.96,1.796 1.725,3.324 2.294,4.585c0.57,0.378 1.068,0.708 1.494,0.992c0.427,0.284 0.819,0.52 1.174,0.709c2.419,-0.441 3.629,-2.111 3.629,-5.01c0,-1.323 -0.356,-3.245 -1.067,-5.766c8.964,-2.268 14.478,-3.371 16.542,-3.308l0,6.428c0,2.142 -0.036,4.316 -0.107,6.522c0.071,2.709 0.285,5.23 0.64,7.561c0.356,2.332 0.819,4.474 1.388,6.428c0.498,-0.063 0.925,0.315 1.28,1.134c0.285,0.819 0.712,1.229 1.281,1.229c0.214,0 0.498,-0.095 0.854,-0.284c0.782,-1.575 1.387,-2.489 1.814,-2.741c0.142,0.126 0.214,0.347 0.214,0.662Z" style="fill:#888;fill-rule:nonzero;"/><path d="M139.362,17.392c-0.925,-3.277 -2.562,-4.915 -4.909,-4.915c-2.633,0 -5.799,1.89 -9.499,5.671c-2.775,2.773 -5.158,5.671 -7.15,8.696c-2.562,-0.945 -5.336,-2.552 -8.325,-4.821c-0.853,-0.756 -1.707,-1.512 -2.561,-2.268c-0.854,-0.756 -1.743,-1.512 -2.668,-2.269c-2.063,-1.638 -3.628,-2.457 -4.696,-2.457c-1.85,0.126 -3.237,0.22 -4.162,0.283c-1.565,1.324 -2.348,2.616 -2.348,3.876c0,1.197 0.783,2.363 2.348,3.497c1.637,1.071 3.237,2.111 4.803,3.119c1.565,1.008 3.13,2.017 4.695,3.025c3.487,2.268 6.333,3.812 8.538,4.631c-1.209,2.017 -2.454,4.049 -3.735,6.097c-1.281,2.048 -2.561,4.08 -3.842,6.097c-2.561,4.726 -3.842,8.696 -3.842,11.909c0,2.332 0.569,4.38 1.707,6.144c0.854,1.828 2.811,3.119 5.87,3.876c2.348,0.63 4.945,0.85 7.791,0.661c4.055,-0.189 8.075,-1.827 12.06,-4.915c4.34,-3.277 6.51,-6.585 6.51,-9.925c0,-2.079 -1.174,-3.938 -3.522,-5.576c-2.206,-1.576 -4.625,-2.363 -7.257,-2.363c-2.989,0 -4.732,1.165 -5.23,3.497c2.348,1.449 4.305,2.489 5.87,3.119c0.142,0.504 0.213,0.882 0.213,1.134c0,1.639 -1.316,3.309 -3.948,5.01c-2.49,1.764 -4.767,2.647 -6.831,2.647c-1.778,0 -2.668,-1.04 -2.668,-3.12c0,-2.142 1.708,-5.765 5.123,-10.87c1.423,-2.646 2.882,-5.23 4.376,-7.75c1.494,-2.521 2.988,-5.104 4.482,-7.751c3.913,-6.301 8.182,-10.964 12.807,-13.989Z" style="fill:#888;fill-rule:nonzero;"/><path d="M172.339,30.247c-2.277,-0.126 -4.98,0.472 -8.111,1.796c-2.561,1.071 -4.696,1.922 -6.403,2.552c-1.708,0.63 -3.024,1.071 -3.949,1.323c-0.427,-0.756 -0.64,-2.395 -0.64,-4.915l0,-17.297l0.213,-3.592c0.142,-1.765 0.107,-2.93 -0.107,-3.498c-0.284,-0.441 -1.174,-0.724 -2.668,-0.85c-1.423,-0.063 -2.419,-0.378 -2.988,-0.945c-0.64,0.504 -1.192,0.945 -1.654,1.323c-0.463,0.378 -0.836,0.693 -1.121,0.945c-0.498,3.277 -0.889,6.916 -1.174,10.917c-0.284,4.002 -0.498,8.397 -0.64,13.186c-0.071,1.764 0.036,4.064 0.32,6.9c0.285,3.151 0.712,4.947 1.281,5.388c1.636,0.945 2.881,1.512 3.735,1.701c0.712,-0.063 1.423,-0.126 2.135,-0.189c0.711,-0.063 1.423,-0.157 2.134,-0.284c2.419,-0.378 4.376,-0.945 5.87,-1.701c1.423,-0.756 2.846,-1.512 4.269,-2.268c1.423,-0.757 2.846,-1.481 4.269,-2.174c3.699,-2.269 5.549,-4.506 5.549,-6.711c0,-0.505 -0.107,-1.04 -0.32,-1.607Z" style="fill:#888;fill-rule:nonzero;"/><path d="M216.202,15.407c-0.569,-3.592 -3.308,-6.364 -8.218,-8.318c-4.197,-1.575 -8.039,-2.237 -11.526,-1.985c-12.878,1.323 -21.736,5.167 -26.574,11.532c-0.142,0.378 -0.213,0.661 -0.213,0.85c0,0.505 0.534,1.702 1.601,3.592c0.356,-0.189 0.818,-0.126 1.387,0.189c0.996,-0.378 1.975,-0.724 2.935,-1.039c0.961,-0.316 1.868,-0.599 2.721,-0.851c0.712,4.348 1.263,7.735 1.655,10.161c0.391,2.426 0.658,3.954 0.8,4.584c1.494,6.175 2.455,9.358 2.882,9.547c1.707,0.945 3.166,1.418 4.375,1.418c1.565,0 3.842,-1.135 6.83,-3.403c8.823,-6.68 13.305,-10.082 13.447,-10.208c2.277,-2.206 4.198,-4.821 5.763,-7.846c1.708,-3.339 2.42,-6.081 2.135,-8.223Zm-18.997,-3.875c5.621,-0.189 8.431,1.449 8.431,4.915c0,2.709 -1.565,5.891 -4.695,9.546c-3.131,3.592 -6.261,6.018 -9.392,7.278l-1.708,-9.452c-0.64,-3.844 -1.067,-7.278 -1.28,-10.302c2.846,-1.198 5.727,-1.859 8.644,-1.985Z" style="fill:#888;fill-rule:nonzero;"/></g></svg></span>
			<select id="max">
				<option selected="selected" value="10"><10</option>
				<option value="20">10-20</option>
				<option value="100">20-100</option>
			</select>
			<span id="method">
				<a id="add" class="checked">+</a>
				<a id="minus" class="checked">-</a>
				<a id="times">&times;</a>
				<a id="divide">&divide;</a>
			</span>
			<span>=
			<a id="anschk" class="checked">?</a>
			</span>
			<span id="dec">
			<a id="d" ref='10'>.1</a>
			<a id="c" ref='100'>.01</a>
			<a id="m" ref="1000">.001</a>
			</span>
			<select id="num">
				<option>25</option>
				<option selected="selected">50</option>
				<option>100</option>
			</select>
			<a id="print">Print</a>
			<a id="copy" href="https://github.com/LordDoomed/chyld" target="_blank">&copy;</a>
		</div>
		<div id="list"></div>
		<div id="ans"></div>
	</body>
	
	<script>
		r=function(min,max){
			// console.log(max-min,min)
			return Math.random()*(max-min)+min
		}
		s=function(){
			methods=[]
			$('#method a.checked').each(function(){
				methods.push($(this).attr('id'))
			})
			return methods
		}
		c=function(n,x=1){
			return Math.round(n*x)/x
		}
		q=function(m='add'){
			mA=s();
			m=mA[Math.round(r(0,(mA.length-1)))]
			
			if($('#dec a.checked').length){
				cV=parseInt($('#dec a.checked').attr('ref'))
			}else{
				cV=1
			}
			
			if(m=='minus' || m=='add'){//加减法
				switch($('#max').val()){
					case '10':
						max=10
						min=0
					break;
					case '20':
						max=20
						min=9
					break;
					case '100':
						max=100
						min=20
					break;
				}
				minuend=c(r(min+1,max),cV)
				subtrahend=c(r(1,minuend-1),cV)
				difference=c(minuend-subtrahend,cV)
				result=[];
				if(m=='minus'){//减法
						result['q']=minuend+'-'+difference
						result['a']=subtrahend
				}else{//加法
					result['q']=difference+'+'+subtrahend
					result['a']=minuend
				}
			}else if(m=='times' || m=='divide'){
				switch($('#max').val()){
					case '10':
						max=9
						min=1
					break;
					case '20':
						max=19
						min=10
					break;
					case '100':
						max=99
						min=20
					break;
				}
				num1=c(r(min,max),cV)
				num2=c(r(min,max),cV)
				product=c(num1*num2,cV*cV)
				// console.log(num1,num2)
				if(m=='times'){
					result['q']=num1+'&times;'+num2
					result['a']=product
				}else{
					
						result['q']=product+'&divide;'+num2
						result['a']=num1
				}
			}
			
			return result;
		}
		
		g=function(){
			num=$('#num').val()
			let list=ans=newq=last=''
			let i=1
			while(i<=num){
				newq=q()
				if(newq['q']!=last){
					last=newq['q']
					list+='<div><span>'+newq['q']+'=</span></div>'
					
					ans+='<div>'+newq['a']+'</div>'
					i++
				}
			}
			$('#list').html(list)
			$('#ans').html(ans)
			
			if($('#anschk').is('.checked')){
				$('#ans').show() 
			}else{
				$('#ans').hide()
			}
		}
		$(
		function(){
			
			$('#method a').click(function(){
				$(this).toggleClass('checked')	
				if($('#method a.checked').length<1){
					$(this).addClass('checked')
				}
				g()
			})
			$('#dec a,#anschk').click(function(){
				$(this).toggleClass('checked').siblings().removeClass('checked')
				g()
			})
			$('#print').click(function(){
				window.print()
			})
			$('#max,#num').change(g)
			g()
			
			})
	</script>
</html>
